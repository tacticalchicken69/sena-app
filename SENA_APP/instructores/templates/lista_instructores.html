{% extends 'master.html' %}
{% load static %}

{% block title %}Lista de Instructores - SENA APP{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Breadcrumb y Encabezado -->
    <div class="row mb-4">
        <div class="col-12 d-flex justify-content-start align-items-center">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="/" class="back-link">Inicio</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Instructores</li>
                </ol>
            </nav>
            <!-- Botón de "Nuevo Instructor" ELIMINADO -->
        </div>
    </div>

    <!-- Título y Estadísticas -->
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="display-6 text-sena-green fw-bold">Gestión de Instructores</h1>
            <p class="text-muted">Total de Instructores Registrados: <span class="badge bg-sena-green">{{ total_instructores }}</span></p>
        </div>
    </div>

    <!-- Contenido de la Lista (Grid de Tarjetas) -->
    <div class="row g-4">
        {% for instructor in lista_instructores %}
        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12">
            <div class="card shadow-sm h-100 border-start border-5 list-card {% if instructor.activo %}border-success{% else %}border-danger{% endif %}">
                
                <div class="card-body d-flex flex-column">
                    <div class="d-flex align-items-start mb-3">
                        <!-- Avatar de las Iniciales -->
                        <div class="instructor-card-avatar flex-shrink-0 me-3" style="
                            width: 60px; 
                            height: 60px; 
                            border-radius: 50%; 
                            background-color: #009846; 
                            color: white;
                            font-size: 1.5rem;
                            line-height: 60px;
                            text-align: center;
                            font-weight: bold;
                            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);">
                            {{ instructor.nombre.0|default:"" }}{{ instructor.apellido.0|default:"" }}
                        </div>

                        <!-- Información Principal -->
                        <div class="flex-grow-1">
                            <h5 class="card-title mb-0 text-sena-green">{{ instructor.nombre_completo }}</h5>
                            <p class="card-subtitle text-muted small mb-2">{{ instructor.especialidad }}</p>
                            
                            <!-- Estado -->
                            {% if instructor.activo %}
                                <span class="badge bg-success"><i class="bi bi-check-circle"></i> Activo</span>
                            {% else %}
                                <span class="badge bg-danger"><i class="bi bi-x-circle"></i> Inactivo</span>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Detalles -->
                    <div class="mt-auto pt-2 border-top">
                        <ul class="list-unstyled small mb-0">
                            <li class="text-truncate mb-1">
                                <i class="bi bi-person-badge me-2 text-primary"></i>
                                Doc. ({{ instructor.get_tipo_documento_display }}): {{ instructor.numero_documento }}
                            </li>
                            <li class="text-truncate mb-1">
                                <i class="bi bi-envelope me-2 text-info"></i>
                                {{ instructor.correo }}
                            </li>
                            <li class="text-truncate mb-1">
                                <i class="bi bi-telephone me-2 text-success"></i>
                                {{ instructor.telefono }}
                            </li>
                            <li class="text-truncate">
                                <i class="bi bi-briefcase me-2 text-warning"></i>
                                Experiencia: {{ instructor.anos_experiencia }} años
                            </li>
                        </ul>
                        <!-- Botones de Acción ELIMINADOS -->
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <!-- Mensaje si no hay instructores -->
        <div class="col-12">
            <div class="alert alert-warning text-center" role="alert">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                No se encontraron instructores registrados en el sistema.
            </div>
        </div>
        {% endfor %}
    </div>

</div>

<!-- Estilos personalizados (se dejan para mantener el diseño) -->
<style>
    .bg-sena-green {
        background-color: #009846 !important;
    }
    .text-sena-green {
        color: #009846 !important;
    }
    .btn-primary.bg-sena-green {
        background-color: #009846 !important;
        border-color: #009846 !important;
    }
    .btn-primary.bg-sena-green:hover {
        background-color: #007a38 !important; /* Tono más oscuro al pasar el ratón */
        border-color: #007a38 !important;
    }
    .btn-outline-sena {
        color: #009846;
        border-color: #009846;
    }
    .btn-outline-sena:hover {
        background-color: #009846;
        color: white;
    }
    .card {
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1) !important;
    }
    .instructor-card-avatar {
        box-shadow: 0 0 0 3px rgba(0, 152, 70, 0.3); /* Anillo de color SENA */
    }
    .back-link {
        color: #009846;
        text-decoration: none;
    }
    .back-link:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}